<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>TeamMood</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        iframe {
            top: 0;
            left: 0;
            border: none;
        }
    </style>
</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top justify-content-center" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">TeamMood</a>
        </div>
    </div>
    <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">

    <div class="row">

        <div class="col-md-3">
            <p class="lead">Week #<i class="weekno"></i></p>
            <div class="list-group">
                <a href="#" class="list-group-item teammood-week active">1</a>
                <a href="#" class="list-group-item teammood-week">2</a>
                <a href="#" class="list-group-item teammood-week">3</a>
            </div>
        </div>

        <div class="col-md-9">
            <div class="well">
                <iframe id="myIframe" src="week/1" frameborder="0"></iframe>
            </div>
        </div>
    </div>

</div>
<!-- /.container -->

<div class="container">

    <hr>

    <!-- Footer -->
    <footer>
        <div class="row">
            <div class="col-lg-12">
                <p>Created by <a href="http://asideas.de">Axel Springer Ideas Engineering</a> thanks to <a href="https://teammood.com">TeamMood</a></p>
            </div>
        </div>
    </footer>

</div>
<!-- /.container -->
</body>

<script>
    var iframe = document.querySelector("#myIframe");
    var weekno = document.querySelector(".weekno");

    iframe.addEventListener("load", function (e) {
        console.info("Loaded iframe for src: " + iframe.src);
        resizeIFrameToFitContent(this);

    });

    var allWeeks = document.querySelectorAll(".teammood-week");
    for (var i = 0; i < allWeeks.length; ++i) {
        var weekNumber = allWeeks[i].text;
        console.info("Setting to week #" + weekNumber);
        iframe.src = "week/" + weekNumber;
        weekno.text = weekNumber;
    }

    function resizeIFrameToFitContent(iFrame) {
        iFrame.width = iFrame.contentWindow.document.body.scrollWidth;
        iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
    }
</script>
</html>